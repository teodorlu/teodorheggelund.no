#!/bin/bash

# Open all drafts in firefox.

set -e

cd "$(git rev-parse --show-toplevel)/_site"
PATHS=$(find ./drafts -type f -name "*.html")

# python3 -c "print(\"Hello from Python/Bash!\")"
URLS=$(python3 - << EOF
matches = """$PATHS""".split()

def dev_http_url(filepath):
    return "http://localhost:8000/" + filepath

print(" ".join(dev_http_url(m) for m in matches))

# for m in matches:
#     print(dev_http_url(m))
EOF
    )

firefox $URLS
